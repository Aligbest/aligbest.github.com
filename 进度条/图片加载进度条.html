<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
* { margin:0; padding:0;}
#box { width:300px; height:30px; background:#ccc; margin:30px auto; position:relative;}
#bar { width:0%; height:100%; background:green;}
#box span { width:100%; height:100%; position:absolute; left:0; top:0; text-align:center; line-height:30px; }
</style>
<script>
window.onload = function() {
	var oBar = document.getElementById("bar");
	var oSpan = document.getElementById("s1");
	var total = 77; // 总共77张
	var count = 0; // 当前加载多少张
	
	 //循环创建img
	 for (var i = 0; i < total; i++) {
		 var oImg = new Image();
		 oImg.src = "http://www.zhinengshe.com/works/3525/img/"+i+".jpg";
		 
		 // 加载成功
		 oImg.onload = function() {
			count++;
			// 比例  已有 count /总共 total
			var scale =  count/total;
			oBar.style.width = (scale*100).toFixed(2) + "%";
			oSpan.innerHTML = (scale*100).toFixed(2) + "%";
		 };
	 }
};
</script>
</head>

<body>
	<div id="box">
    	<div id="bar"></div>
        <span id="s1">0.00%</span>
    </div>
	
</body>
</html>
